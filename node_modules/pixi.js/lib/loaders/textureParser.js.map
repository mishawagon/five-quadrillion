{"version":3,"sources":["../../src/loaders/textureParser.js"],"names":["textureParser","resource","next","data","type","TYPE","IMAGE","baseTexture","core","BaseTexture","utils","getResolutionOfUrl","url","imageUrl","texture","Texture","BaseTextureCache","name","TextureCache"],"mappings":";;;;kBAGe,YACf;AACI,WAAO,SAASA,aAAT,CAAuBC,QAAvB,EAAiCC,IAAjC,EACP;AACI;AACA,YAAID,SAASE,IAAT,IAAiBF,SAASG,IAAT,KAAkB,yBAASC,IAAT,CAAcC,KAArD,EACA;AACI,gBAAMC,cAAc,IAAIC,KAAKC,WAAT,CAAqBR,SAASE,IAA9B,EAAoC,IAApC,EAA0CK,KAAKE,KAAL,CAAWC,kBAAX,CAA8BV,SAASW,GAAvC,CAA1C,CAApB;;AAEAL,wBAAYM,QAAZ,GAAuBZ,SAASW,GAAhC;AACAX,qBAASa,OAAT,GAAmB,IAAIN,KAAKO,OAAT,CAAiBR,WAAjB,CAAnB;;AAEA;AACAC,iBAAKE,KAAL,CAAWM,gBAAX,CAA4Bf,SAASgB,IAArC,IAA6CV,WAA7C;AACAC,iBAAKE,KAAL,CAAWQ,YAAX,CAAwBjB,SAASgB,IAAjC,IAAyChB,SAASa,OAAlD;;AAEA;AACA,gBAAIb,SAASgB,IAAT,KAAkBhB,SAASW,GAA/B,EACA;AACIJ,qBAAKE,KAAL,CAAWM,gBAAX,CAA4Bf,SAASW,GAArC,IAA4CL,WAA5C;AACAC,qBAAKE,KAAL,CAAWQ,YAAX,CAAwBjB,SAASW,GAAjC,IAAwCX,SAASa,OAAjD;AACH;AACJ;;AAEDZ;AACH,KAvBD;AAwBH,C;;AA7BD;;IAAYM,I;;AACZ","file":"textureParser.js","sourcesContent":["import * as core from '../core';\nimport { Resource } from 'resource-loader';\n\nexport default function ()\n{\n    return function textureParser(resource, next)\n    {\n        // create a new texture if the data is an Image object\n        if (resource.data && resource.type === Resource.TYPE.IMAGE)\n        {\n            const baseTexture = new core.BaseTexture(resource.data, null, core.utils.getResolutionOfUrl(resource.url));\n\n            baseTexture.imageUrl = resource.url;\n            resource.texture = new core.Texture(baseTexture);\n\n            // lets also add the frame to pixi's global cache for fromFrame and fromImage fucntions\n            core.utils.BaseTextureCache[resource.name] = baseTexture;\n            core.utils.TextureCache[resource.name] = resource.texture;\n\n            // also add references by url if they are different.\n            if (resource.name !== resource.url)\n            {\n                core.utils.BaseTextureCache[resource.url] = baseTexture;\n                core.utils.TextureCache[resource.url] = resource.texture;\n            }\n        }\n\n        next();\n    };\n}\n"]}